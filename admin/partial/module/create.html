<div class="row"  ng-controller="moduleCreateCtrl"
     style="background-color:#ffffff;padding-top: 10px;padding-bottom:15px;margin-right: 0px;min-height: 500px;" >
    <div class="col-xs-12">
        <p style="padding-left: 7px;font-size: 18px;">添加字段</p>
    </div>
    <div class="col-xs-12" >
        <ng-form name="edit_form" id="edit_form">
            <table class="table" style="width: 100%;">
                <thead>
                    <tr>
                        <th>英文名</th>
                        <th>中文名</th>
                        <th>字段类型</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{primary_key.key}}</td>
                        <td >{{primary_key.key_name}}</td>
                        <td >{{primary_key.type}}</td>
                        <td >—</td>
                    </tr>
                    <tr ng-repeat="item in keys">
                        <td>
                            <input class="form-control input-sm" name="{{item.names.key}}" type="text"
                                       ng-model="item.key" required tablefield ng-maxlength="30"/>
                            <div ng-messages="edit_form[item.names.key].$dirty && edit_form[item.names.key].$error">
                                <p class="text-danger" ng-message="required">此为必填项!</p>
                                <p class="text-danger" ng-message="tablefield">不是合法的名称!</p>
                                <p class="text-danger" ng-message="maxlength">太长了!</p>
                            </div>
                        </td>
                        <td>
                            <input class="form-control input-sm" type="text" name="{{item.names.key_name}}"
                                       ng-model="item.key_name" required ng-maxlength="30"/>
                            <div ng-messages="edit_form[item.names.key_name].$dirty && edit_form[item.names.key_name].$error">
                                <p class="text-danger" ng-message="required">此为必填项!</p>
                                <p class="text-danger" ng-message="maxlength">太长了!</p>
                            </div>
                        </td>
                        <td>
                            <select class="form-control input-sm" ng-model="item.form" required name="{{item.names.form}}"
                                        ng-options="option.id as option.name group by option.group for option in options">
                                <option  value="" style="display:none;"></option>
                            </select>
                            <div ng-messages="edit_form[item.names.form].$dirty && edit_form[item.names.form].$error">
                                <p class="text-danger" ng-message="required">此为必填项!</p>
                            </div>
                        </td>
                        <td >
                            <button type="button" class="btn btn-danger btn-sm" ng-click="delete(item,$index)">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </ng-form>
        <div class="row" style="padding-right: 60px;">
            <button type="button" class="btn btn-default btn-md pull-right"
                    ng-click="cancel()" >取消</button>
            <button type="button" class="btn btn-primary btn-md pull-right"
                    ng-click="next()" ng-disabled="edit_form.$invalid">下一步</button>
            <button type="button" class="btn btn-success pull-right" ng-click="add()">添加字段</button>
        </div>
    </div>
</div>
<script src="admin/partial/module/create.js" seq="0"></script>